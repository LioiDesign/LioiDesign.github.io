{"version":3,"file":"js/229.d13129f3.js","mappings":"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","sources":["webpack://lioi-app/./src/data/ProductCategoryDiscriminator.ts","webpack://lioi-app/./src/data/ProductCategoriesProvider.ts","webpack://lioi-app/./src/components/DumbComponents/CategoriesFilterBar.vue?b63e","webpack://lioi-app/./src/components/DumbComponents/CategoriesFilterBar.vue","webpack://lioi-app/./src/views/shop/ProductsView.vue?f208","webpack://lioi-app/./src/views/shop/ProductsView.vue"],"sourcesContent":["export enum ProductCategoryDiscriminator {\r\n    Dresses = 0,\r\n    Kimonos = 1,\r\n    Tops = 2,\r\n    Skirts = 3,\r\n    Pants = 4,\r\n    Jumpsuits = 5,\r\n    Other = 6,\r\n    ReadyToWear = 7,\r\n    Unique = 8,\r\n}","import cultureManager from \"@/CultureManager\";\r\nimport {ProductCategoryDiscriminator} from \"@/data/ProductCategoryDiscriminator\";\r\n\r\nexport class ProductCategory {\r\n    id: number;\r\n    nameEst: string;\r\n    nameEng: string;\r\n    onDisplay: boolean;\r\n    discriminator: ProductCategoryDiscriminator;\r\n    \r\n    constructor(id: number, nameEst: string, nameEng: string, onDisplay: boolean, discriminator: ProductCategoryDiscriminator) {\r\n        this.id = id;\r\n        this.nameEst = nameEst;\r\n        this.nameEng = nameEng;\r\n        this.onDisplay = onDisplay;\r\n        this.discriminator = discriminator;\r\n    }\r\n    \r\n    localizedName() : string {\r\n        return cultureManager.isEstonian ? this.nameEst : this.nameEng;\r\n    }\r\n}\r\n\r\nclass ProductCategoriesProvider {\r\n  private categories: ProductCategory[] = [\r\n      new ProductCategory(1, \"Kleidid\", \"Dresses\", true, ProductCategoryDiscriminator.Dresses),\r\n      new ProductCategory(2, \"Kimonod\", \"Kimonos\", true, ProductCategoryDiscriminator.Kimonos),\r\n      new ProductCategory(3, \"Pluusid\", \"Tops\", true, ProductCategoryDiscriminator.Tops),\r\n      new ProductCategory(4, \"Seelikud\", \"Skirts\", true, ProductCategoryDiscriminator.Skirts),\r\n      new ProductCategory(5, \"Püksid\", \"Pants\", true, ProductCategoryDiscriminator.Pants),\r\n      new ProductCategory(6, \"Pükstükid\", \"Jumpsuits\", true, ProductCategoryDiscriminator.Jumpsuits),\r\n      new ProductCategory(7, \"Muu\", \"Other\", true, ProductCategoryDiscriminator.Other),\r\n      new ProductCategory(8, \"Valmistooted\", \"Ready-to-wear\", true, ProductCategoryDiscriminator.ReadyToWear),\r\n      new ProductCategory(9, \"Üksikeksemplarid\", \"One of a kind pieces\", true, ProductCategoryDiscriminator.Unique)\r\n  ];\r\n\r\n  getAllCategories(): ProductCategory[] {\r\n    return this.categories;\r\n  }\r\n  \r\n  getAllVisibleCategories(): ProductCategory[] {\r\n    return this.categories.filter(c => c.onDisplay);\r\n  }\r\n  \r\n  getCategoryById(id: number): ProductCategory | undefined {\r\n    return this.categories.find(c => c.id === id);\r\n  }\r\n  \r\n  getCategoryByName(name: string): ProductCategory | undefined {\r\n    return this.categories.find(c => c.nameEng === name);\r\n  }\r\n}\r\n\r\nexport const productCategoriesProvider = new ProductCategoriesProvider();","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-518455ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container-fluid page-pt section-mb-xs\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = { class: \"d-flex flex-row flex-wrap justify-content-center\" }\nconst _hoisted_4 = [\"onClick\"]\n\nimport { ProductCategory } from \"@/data/ProductCategoriesProvider\";\r\nimport { ref, watch } from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CategoriesFilterBar',\n  props: {\n    visibleCategories: null,\n    modelValue: null\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\r\n    visibleCategories: Array<ProductCategory>\r\n    modelValue: number | undefined | null\r\n};\n\r\n\r\n\r\nconst selectedCategoryId = ref<number | undefined | null>(props.modelValue);\r\n\r\nfunction onClickCategory(category: ProductCategory | undefined) {\r\n    selectedCategoryId.value = category?.id;\r\n    setTimeout(() => {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }, 100);\r\n}\r\n\r\n\r\nwatch(() => selectedCategoryId.value, () => {\r\n    emit(\"update:modelValue\", selectedCategoryId.value);\r\n});\r\nwatch(() => props.modelValue, () => {\r\n    if (selectedCategoryId.value == props.modelValue) return;\r\n    selectedCategoryId.value = props.modelValue;\r\n}, { immediate: true });\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", {\n      class: \"heading-mb text-center\",\n      innerHTML: _ctx.$t('shop.heading')\n    }, null, 8, _hoisted_2),\n    _createElementVNode(\"ul\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.visibleCategories, (category) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          key: category.id,\n          class: \"category-item\"\n        }, [\n          _createElementVNode(\"button\", {\n            class: _normalizeClass({ active: selectedCategoryId.value != undefined && selectedCategoryId.value! == category.id }),\n            onClick: ($event: any) => (onClickCategory(category))\n          }, _toDisplayString(category.localizedName()), 11, _hoisted_4)\n        ]))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./CategoriesFilterBar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CategoriesFilterBar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CategoriesFilterBar.vue?vue&type=style&index=0&id=518455ee&scoped=true&lang=scss\"\n\nimport exportComponent from \"F:\\\\Progr\\\\Lioi.ee\\\\lioi.app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-518455ee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-23966340\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container-fluid section-mb\" }\nconst _hoisted_2 = { class: \"row g-1\" }\nconst _hoisted_3 = [\"id\"]\n\nimport {computed, onMounted, ref, watch} from \"vue\";\r\nimport {productCategoriesProvider, ProductCategory} from \"@/data/ProductCategoriesProvider\";\r\nimport CategoriesFilterBar from \"@/components/DumbComponents/CategoriesFilterBar.vue\";\r\nimport {Product, productsProvider} from \"@/data/ProductsProvider\";\r\nimport CardProduct from \"@/components/DumbComponents/CardProduct.vue\";\r\nimport router from \"@/router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProductsView',\n  setup(__props) {\n\r\nconst visibleCategories = ref<Array<ProductCategory>>([])\r\nconst allProducts = ref<Array<Product>>([])\r\nconst selectedCategoryId = ref<number | undefined | null>(undefined);\r\nconst selectedCategoryName = computed(() => {\r\n    const category = visibleCategories.value.find(c => c.id == selectedCategoryId.value);\r\n    return category?.nameEng;\r\n});\r\n\r\nconst selectedCategoryProducts = computed(() => {\r\n    if (selectedCategoryId.value == undefined) return allProducts.value;\r\n    return allProducts.value.filter(p => p.productCategoryId == selectedCategoryId.value);\r\n});\r\n\r\nonMounted(() => {\r\n    allProducts.value = productsProvider.getAllVisibleProducts();\r\n    visibleCategories.value = productCategoriesProvider.getAllVisibleCategories().filter(c => allProducts.value.some(p => p.productCategoryId == c.id));\r\n    selectedCategoryId.value = getInitialCategory();\r\n});\r\n\r\nfunction getInitialCategory(){\r\n    const query = router.currentRoute.value.query;\r\n    return query.category ? productCategoriesProvider.getCategoryByName(String(query.category))?.id :visibleCategories.value[0]?.id;\r\n}\r\n\r\nwatch(() => selectedCategoryId.value, async () => {\r\n    await router.replace({query: {category: selectedCategoryName.value}});\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (visibleCategories.value?.length)\n      ? (_openBlock(), _createBlock(CategoriesFilterBar, {\n          key: 0,\n          \"visible-categories\": visibleCategories.value,\n          modelValue: selectedCategoryId.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedCategoryId).value = $event))\n        }, null, 8, [\"visible-categories\", \"modelValue\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedCategoryProducts), (product) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"col-6 col-xl-4\",\n            key: product.id,\n            id: `product-${product.id}`\n          }, [\n            _createVNode(CardProduct, { product: product }, null, 8, [\"product\"])\n          ], 8, _hoisted_3))\n        }), 128))\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./ProductsView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ProductsView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=23966340&scoped=true&lang=scss\"\n\nimport exportComponent from \"F:\\\\Progr\\\\Lioi.ee\\\\lioi.app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23966340\"]])\n\nexport default __exports__"],"names":["ProductCategoryDiscriminator","ProductCategory","constructor","id","nameEst","nameEng","onDisplay","discriminator","_defineProperty","this","localizedName","cultureManager","ProductCategoriesProvider","Dresses","Kimonos","Tops","Skirts","Pants","Jumpsuits","Other","ReadyToWear","Unique","getAllCategories","categories","getAllVisibleCategories","filter","c","getCategoryById","find","getCategoryByName","name","productCategoriesProvider","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","props","visibleCategories","modelValue","emits","setup","__props","emit","selectedCategoryId","ref","onClickCategory","category","value","setTimeout","window","scrollTo","top","behavior","watch","immediate","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","innerHTML","$t","_Fragment","_renderList","key","_normalizeClass","active","undefined","onClick","$event","_toDisplayString","__exports__","allProducts","selectedCategoryName","computed","selectedCategoryProducts","p","productCategoryId","getInitialCategory","query","router","String","onMounted","productsProvider","some","async","length","_createBlock","CategoriesFilterBar","_createCommentVNode","_unref","product","_createVNode","CardProduct"],"sourceRoot":""}